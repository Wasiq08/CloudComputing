<!-- For Forgot Password page -->
<div class="inner-page">

    <auth-header></auth-header>

    <div class="section">
        <div class="container">
            <div class="row justify-content-md-center">
                <div class="col-md-12">
                    <div class="caption-main">
                        Legal Management System
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="auth-box forget" *ngIf="emailSuccess==false">
                        <mat-progress-bar *ngIf='isSubmitted' color="warn" mode="indeterminate"></mat-progress-bar>
                        <h1>Forgot your Password?</h1>
                        <form [formGroup]="form">

                            <!-- novalidate prevents HTML5 validation since we will be validating ourselves -->
                            <div class="form-field">
                                <mat-form-field class="full-width">

                                    <!-- <input type="email" matInput formControlName="email" placeholder="Email" name="email" [(ngModel)]="user.email"> -->
                                    <input matInput formControlName="email" placeholder="Email" name="email" [(ngModel)]="user.email" (focusout)="onEmailFocusOut()"
                                        required>

                                    <!-- <mat-error *ngIf="userEmail.hasError('required')"> -->
                                    <mat-error *ngIf="form.controls['email'].errors?.required">
                                        Email is
                                        <strong>required</strong>
                                    </mat-error>
                                    <!-- <mat-error *ngIf="userEmail.hasError('pattern')"> -->
                                    <mat-error *ngIf="!form.controls['email'].errors?.required && form.controls['email'].errors?.email">
                                        Please enter a valid email
                                    </mat-error>
                                    <!-- <mat-error *ngIf="userEmail.hasError('maxlength')">
                                    Invalid Email (maximum 100 characters are allowed)
                                </mat-error> -->

                                    <mat-error *ngIf="form.controls['email'].errors?.notAvailable">
                                        Email does not exist
                                    </mat-error>
                                    <!-- <mat-hint class="unsuccessful" *ngIf="!isEmailExist">
                                        Email does not
                                        <strong>exist</strong>
                                    </mat-hint> -->


                                </mat-form-field>
                            </div>

                            <div class="text-right">
                                <button class="lms-round-btn login" [disabled]="!form.valid  || isSubmitted || !isEmailExist" (click)="recoverPassword()">Recover Password</button>
                            </div>
                        </form>
                    </div>
                    <div class="auth-box" *ngIf="emailSuccess==true">
                        <!-- <p> Please check your email to reset your password.</p> -->
                        <p> {{ emailSuccessMsg }}</p>
                    </div>
                    <div class="bottom-txt" *ngIf="emailSuccess==false">Try again?
                        <a routerLink="{{gotoUrl}}">Login</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <auth-footer></auth-footer>

</div>